# 微服务和团队文化

> 原文：<https://testdriven.io/blog/microservices-team-culture/>

微服务很可能成为过去十年的热门词汇之一。在设计系统时，这种软件架构已经成为一种流行的选择，许多公司选择基于这种范例来构建他们的应用程序。然而，微服务模式不仅仅基于技术转变，也是一种文化转变，它严重依赖于团队的结构。

在本文中，我将解释微服务的概念以及成功采用这种架构设计方法所需的团队文化或实践。

## 什么是微服务？

基于微服务的架构是一种软件设计，它将系统模块化为服务和子模块的集合。将软件模块分离成服务的范例并不新鲜。微服务是一种类似于面向服务的架构(SOA)的方法，它也需要将一个整体架构分解成更小的模块。两者之间的一个关键区别是，SOA 是为执行多个业务任务而构建的，而微服务是为了完成一个业务任务。

这些软件模块本身可能服务于一个单一的目的，但是作为一个整体，它们适合应用程序。该软件设计的技术目标是创建具有以下特征的网络可访问服务:

*   围绕单一用途的功能组织
*   高度可维护和可测试
*   松散耦合
*   可独立部署
*   由一个小团队拥有

我举一个电子商务网站的例子。这些系统通常包括订单管理、运输、支付和库存管理。当基于微服务方法构建这样的平台时，每个微服务都被视为一个黑盒，可通过其 API 从外部访问。

## 团队文化和生产力

与一些人的想法相反，微服务不仅仅是一种技术架构。范式本身在某种程度上是一种文化，或者至少需要文化的改变。不幸的是，这并没有得到像技术实现那样多的关注和重视。毫无疑问，它应该放在任何编程或代码细节之前。这通常被认为不太令人兴奋，但是对于企业来说，理解微服务在自主性、责任性、灵活性和技术自由等方面给开发团队带来的转变是很重要的。当一个公司采用这种范例时，松散耦合的和独立的团队对他们特定的产品或业务领域服务从头到尾都有一个清晰的理解，这反过来产生了一个更好质量的产品。

微服务团队可以专注于特定的服务，而不是整个应用程序。这使得定制需求和优化功能以获得更好的最终产品变得更加容易。在单个模块上工作使团队能够专注于业务能力以及如何最好地转化工作成果。

## 团队结构符合业务领域

梅尔文·康威在他的出版物中创造了一个短语“委员会如何发明？”这是由 [Fred Brooks](https://en.wikipedia.org/wiki/Fred_Brooks) 在他的书《神话人月》中推广的，他称之为康威定律。康威定律(1967)指出，“设计系统的组织被限制生产这些组织的通信结构的副本的设计。”简而言之，康威提出了这样一个观点，即企业创建的系统反映了特定企业的组织结构。

这如何转化到软件开发领域？当您考虑业务中存在的挑战和约束时，就其通信结构而言，这些相同的问题将被投射到软件的开发方式上。这包括团队用来协调、交流和交付软件的方法。所有这些都会对最终产品产生影响。

许多数字公司倾向于根据部门(如营销、UX 设计、前端开发、移动应用开发、后端开发、数据库管理、IT 运营等)将团队组织成孤岛。这种传统的方法不一定是错的或坏的，这取决于你想要达到的目标。微服务文化应该影响团队的跨职能性。在这种模型中，独立团队将由拥有所有相关技能的人组成，以提供端到端的特定服务。

这种结构提高了对业务需求、团队节奏和软件交付的理解。

## 独立部署团队

正如前面提到的，微服务团队处理的服务独立于他们所适应的更大系统的其他组件。因此，团队可以采用诸如持续集成和持续交付(CI/CD)的实践，以及更敏捷的软件开发方法。此外，跨职能团队可以独立开发、测试、解决问题、部署和更新服务，从而加快部署和故障排除的周转时间。

例如，开发应用程序中支持支付的服务的团队可以添加对新支付方法的支持，并独立地将其发布到实际的应用程序环境中。

## 技术异质性

微服务架构最大的吸引力之一是它所呈现的技术异构性。这样做的好处是，开发团队可以独立选择最适合各自微服务的技术堆栈。因此，团队有更多的自主权来拼凑他们认为会增强他们所负责的服务的工具。然而，重要的是要注意，技术多样性在强所有权的团队模型中工作得最好，而不是集体所有权。

在强所有权中，拥有微服务的团队在编程范例、技术决策、部署实践和工具方面发号施令。这种方法给予团队很大的自主权，这有很多好处，但也增加了团队的责任。

另一方面，在集体所有权模型中，微服务可以由许多团队中的任何一个来改变。这样做的主要好处是，你可以把人们转移到需要他们的地方。

考虑到这一点，如果一家公司对其微服务有一个集体所有权模型，那么必须根据负责不同服务的所有团队的技能来选择技术，以避免关键人员依赖的陷阱。

## 两个披萨团队

说到微服务，一个经常被问到的问题是，“单个团队应该有多大？”你会失望地发现没有适合所有情况的神奇数字。在这个领域已经完成的研究更倾向于由 5 - 10 人组成的团队。诞生于亚马逊的一个流行原则是两块披萨规则。杰夫·贝索斯解释说，这个规则是基于这样一个想法，即每个团队不应该太大，以至于不能用两个披萨来喂饱它。

Amazon 采用了团队拥有他们管理的系统的整个生命周期的做法，目标是团队更加快速和高效。另一个例子是网飞。网飞显然从亚马逊树立的同样的例子中吸取了教训，围绕小型独立团队构建自己，这样创建的服务将相互独立。这有助于确保系统架构针对变化速度进行了优化。

## 结论

微服务架构在软件设计方面有很多优势。然而，这种模型的成功实现很大程度上依赖于负责开发和交付的团队的结构。